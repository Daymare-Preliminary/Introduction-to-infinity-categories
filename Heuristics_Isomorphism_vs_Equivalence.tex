\section{Heuristics: Isomorphism vs. Equivalence}

The reference for this section is \cite[ch.4,5,6]{leinster2014basic}.
\newline
Makkai's Principle of Isomorphism (1998) says:

"All grammatically correct properties about objects in a fixed category are to be invariant under isomorphism."

Fix a category $ \mathcal{ C } $ and a small category $ A $ and take the functor category $ \Fun ( A , \mathcal{ C } )$, that is $ A $-shaped diagrams in $ \mathcal{ C } $.
For $ X \in \mathcal{ C } $ define:
\[
    \lim_{a \in A} \Hom_{\mathcal{ C }} ( X , D(a)) \coloneqq \{ ( p_a \colon X \to  D ( a ) )_{ a \in A } \mid 
    \begin{tikzcd}
    X
    \ar[d, "f_a"']
    \ar[rd, "f_b"]
    \\
    D ( a ) 
    \ar[r]
    &
    D ( b ) 
    \end{tikzcd}
    \forall f \colon a \to b \text{ in } A
    \}
\]

For $ \phi \colon Y \to X $ define the function 
\begin{align*}
    \phi^* \colon \lim_{a \in A} \Hom_{ \mathcal{ C }} ( X , D ( a ) ) 
    &\to
    \lim_{ a \in A } \Hom_{ \mathcal{ C }} ( Y , D ( a ) ) 
    \\
    p = ( p_a \colon X \to D ( a ) )_{ a \in A }
    &\mapsto
    \phi^* ( p ) = ( p_a \circ \phi \colon Y \to D ( a ) )_{ a \in A }
\end{align*}

Thus $ \lim_{a \in A } \Hom_{ \mathcal{ C } } ( - , D ( a ) ) \colon \mathcal{ C }^{\op} \to \Set $ is a presheaf of sets on $ \mathcal{ C } $.

\begin{defi}
    A limit of a diagram $ D \colon A \to \mathcal{ C } $ is a cone $ p \in \lim_{a \in A } \Hom_{ \mathcal{ C } } ( X, D ( a ) ) $ that is universal in the sense that $ \forall Y \in \mathcal{ C } , \forall q \in \lim_{a \in A} \Hom_{\mathcal{ C }} ( Y , D ( a ) ) , \exists! \varphi \colon Y \to X $ such that $ \varphi^* ( p ) = q $.
    We write $ \lim_{ a \in A } D ( a ) $ for any limit of $ D $ (which may or may not exist).
\end{defi}

\begin{rmd}[Yoneda Lemma]
    Let $ X \in \mathcal{ C } $ and let 
    \begin{align*}
        \nu \colon \Nat ( \Hom_{\mathcal{ C } } ( - , X ) , \lim_{ a \in A } \Hom_{\mathcal{ C } } ( - , D ( a ) ) ) 
        &\isomorphism
        \lim_{ a \in A } \Hom_{ \mathcal{ C } }( X , D ( a ) ) 
        \\
        \eta = ( \eta_Y \colon \Hom_{ \mathcal{ C } } (  Y , X ) \to \lim_{ a \in \mathcal{ C } } ( Y , D ( a ) )_{ Y \in \mathcal{ C } } 
        &\mapsto 
        \eta_X ( \id_X )
        \\
        ( \eta^p_Y ( p ) \coloneqq \varphi^* ( p ) )_{ Y \in \mathcal{ C }}
        &\mapsfrom
        p
    \end{align*}
\end{rmd}

If $ p \in \lim_{a \in A} \Hom_{ \mathcal{ C } } ( X , D ( a ) ) $ is a limit of $ D \colon A \to \mathcal{ C } $ then 

$ \eta^p \colon \Hom_{ \mathcal{ C } } ( - ,  X ) \isomorphism \Hom_{ \mathcal{ C } } ( - , D ( a ) ) $ is a natural isomorphism. 
We furthermore obtain, that for an isomorphism $\psi \colon Y \to X $ in $\mathcal{ C } $ we have 
\[
\begin{tikzcd}
    & 
    \Hom_{\mathcal{ C } } ( - , X ) 
    \ar[rd, " \eta^p ", "\sim"']
    \\
    \Hom_{ \mathcal{ C } } ( - , Y ) 
    \ar[ru , " \psi^*" , " \sim"' ]
    \ar[rr, " \sim " ]
    &&
    \lim_{ a \in A } \Hom_{ \mathcal{ C } } ( - , D ( a ) ) 
\end{tikzcd}
\]
\begin{exmp}
    Let the following be a diagram in $ \mathcal{ C } $ 
    \[
    \begin{tikzcd}
        &
        Y
        \ar[d , "g" ]
        \\
        X
        \ar[r, "f" ]
        &
        Z
    \end{tikzcd}
    \]
    then the limit of the diagram (if it exists) is called a pullback.
    \[
    \begin{tikzcd}
        W
        \ar[rrd, bend left, "\forall f'' " ]
        \ar[rd, " \exists! p "]
        \ar[rdd, bend right, " \forall g'' "' ]
        \\
        &
        X \times_Z Y 
        \ar[ r , " f'" ]
        \ar[d, " g' "]
        &
        Y
        \ar[d, " g "]
        \\
        &
        X
        \ar[r, "f"]
        &
        Z
    \end{tikzcd}
    \]
    For example if $ \mathcal{ C } = \Set$ then $ X  \times_Z Y = \{ ( X , Y ) \in X \times Y \mid f ( x ) = g ( y ) \}$.
\end{exmp}

The commutativity condition takes place in $ \Hom_{ \mathcal{ C } } ( X \times_Z Y , Z ) \ni g \circ f' = f \circ g' $

\underline{Makkai's Principle of Equivalence}:
All grammatically correct properties of objects in a fixed 2-category are to be invariant under equivalence.

\begin{rmk}
    We want $ \Cat $ to be the strict 2-category of (small) categories with functors as 1-morphisms and natural transformations as 2-morphisms.
    Now natural transformation allow for a notion of equivalence of morphisms, that is in a 1-category we only knew what it meant for two morphisms to be equal, but now we can talk about two functors being naturally isomorphic giving us a notion of equivalence of 1-morphisms, via 2-morphisms.
\end{rmk}

\begin{defi/prop}[Godement Product]
    Consider natural transformations 
    \[
    \begin{tikzcd}[column sep=huge]	
    \mathcal{C}
    	\arrow[bend left=50]{r}[name=U,label=above:$F_1$]{}
    	\arrow[bend right=50]{r}[name=D,label=below:$F_2$]{}
    &
    \mathcal{D}
    \arrow[shorten <=10pt,shorten >=10pt,Rightarrow,to path={(U) -- node[label=right:$\alpha$] {} (D)}]{}
    	\arrow[bend left=50]{r}[name=U',label=above:$G_1$]{}
    	\arrow[bend right=50]{r}[name=D',label=below:$G_2$]{}
	&
	\mathcal{E} 
    \arrow[shorten <=10pt,shorten >=10pt,Rightarrow,to path={(U') -- node[label=right:$\beta$] {} (D')}]{}    	
    \end{tikzcd}
    \]
    
    Their Godement product is the natural transformation.
    \[
    \begin{tikzcd}[column sep=huge]	
    \mathcal{ C }
    	\arrow[bend left=50]{rr}[name=U,label=above:$G_1 \circ F_1$]{}
    	\arrow[bend right=50]{rr}[name=D,label=below:$G_2 \circ F_2$]{}
    &&
    \mathcal{E}
    \arrow[shorten <=10pt,shorten >=10pt,Rightarrow,to path={(U) -- node[label=right:$\beta * \alpha$] {} (D)}]{}
    \end{tikzcd}	
    \]
    Let $ X \in \mathcal{ C } $, we obtain the following diagram
    \[
    \begin{tikzcd}
        F_1 ( X ) 
        \ar[d, " \alpha_x "]
        &
        G_1 ( F_1 ( X ) ) 
        \ar[d, " G_1 ( \alpha_X ) "']
        \ar[rd, " {( \beta * \alpha )_X} "]
        \ar[r , " \beta_{ F_1 ( X ) } "]
        & 
        G_2 ( F_1 ( X ) )
        \ar[d, " G_2 ( \alpha_X ) "]
        \\
        F_2 ( X ) 
        &
        G_1 ( F_2 ( X ) ) 
        \ar[ r, " \beta_{ F_2 ( X ) }"]
        &
        G_2 ( F_2 ( X ) ) 
    \end{tikzcd}    
    \]
    in $ \mathcal{ D } $.
\end{defi/prop}

\begin{proof}
    We show that $ \beta * \alpha \colon G_1 \circ F_1 \Rightarrow G_2 \circ F_2 $ is indeed a natural transformation. 
    For that we take the following diagram 
     \[
     \begin{tikzcd}
         X
         \ar[d, "f"]
         &
         G_1 ( F_1 ( X ) ) 
         \ar[r , " G_1 ( \alpha_X ) "]
         \ar[r, " G_1 ( \alpha_X ) "]
         \ar[d, " G_1 ( F_1 ( f ) ) "']
         &
         G_1 ( F_2 ( X ) ) 
         \ar[ r, " \beta_{ F_2 ( X ) } "]
         \ar[d, " G_1 ( F_2 ( f ) ) "]
         & 
         G_2 ( F_2 ( X ) )
         \ar[d, " G_2 ( F_2 ( f ) ) "]
         \\
         Y
         &
         G_1 ( F_1 ( Y ) )
         \ar[ r , " G_1 ( \alpha_Y ) "']
         &
         G_1 ( F_2 ( Y ) ) 
         \ar[ r, " {\beta_{ F_2 ( Y ) }}"']
         & 
         G_2 ( F_2 ( Y ) ) 
     \end{tikzcd}
     \]
     the inner squares commute by the naturality of $ \alpha $ and $ \beta $, thus the outer square commutes, meaning it is a natural transformation.
\end{proof}

\begin{prop}
    Consider natural transformations 
    \[
    \begin{tikzcd}[column sep=huge]	
    	\mathcal{C}
    	\arrow[bend left=90]{r}[name=U,label=above:$F_1$]{}
    	\arrow[bend right=90]{r}[name=D,label=below:$F_3$]{}
    	\arrow{r}[name=M]{}
    	\arrow{r}[label=below:$F_2$, pos=0.2]{}
    	&
    	\mathcal{D}
    	\arrow[shorten <=5pt,shorten >=5pt,Rightarrow,to path={(U) -- node[label=right:$\alpha$] {} (M)}]{}
    	\arrow[shorten <=5pt,shorten >=5pt,Rightarrow,to path={(M) -- node[label=right:$\gamma$] {} (D)}]{}
    	\arrow[bend left=90]{r}[name=U',label=above:$G_1$]{}
    	\arrow[bend right=90]{r}[name=D',label=below:$G_3$]{}
    	\arrow{r}[name=M']{}
    	\arrow{r}[label=below:$G_2$, pos=0.2]{}
    	&
    	\mathcal{E} 
    	\arrow[shorten <=5pt,shorten >=5pt,Rightarrow,to path={(U') -- node[label=right:$\beta$] {} (M')}]{}
    	\arrow[shorten <=5pt,shorten >=5pt,Rightarrow,to path={(M') -- node[label=right:$\delta$] {} (D')}]{}    	
    \end{tikzcd}	
	\]
    Then $ ( \delta \beta ) * ( \gamma \alpha ) = ( \delta * \gamma ) \circ ( \beta * \alpha ) $.
\end{prop}

\begin{proof}
    Let $ X \in \mathcal{ C } $ 
    \[
    \begin{tikzcd}
        G_1 ( F_1 ( X ) ) 
        \ar[r, " \beta_ {F_1 ( X ) }"]
        \ar[rd, " ( \beta * \alpha )_X "]
        \ar[d, " G_1 (\alpha_X ) "']
        \ar[dd, bend right=90, " G_1 ( \gamma_X \alpha_X ) "']
        &
        G_2 ( F_1 ( X ) ) 
        \ar[d, " G_2 ( \alpha_X ) "]
        \ar[r, " \delta_{ F_1 ( X ) }"]
        &
        G_3 ( F_1 ( X ) ) 
        \ar[dd, bend left =90, " G_3 ( \gamma_X \alpha_X ) "]
        \ar[ d , " G_3 ( \alpha_X ) "]
        \\
        G_1 ( F_2 ( X ) ) 
        \ar[d, " G_1 ( \gamma_X )"']
        \ar[r, " \beta_{ F_2 ( X ) }"]
        &
        G_2 ( F_2 ( X ) ) 
        \ar[r, " \delta_{ F_2 ( X ) }"]
        \ar[d, " G_2 ( \gamma_X ) "]
        \ar[rd, " ( \delta * \gamma )_X "]
        &
        G_3 ( F_2 ( X ) ) 
        \ar[d, " G_3 ( \gamma_X ) "]
        \\
        G_1 ( F_3 ( X ) ) 
        \ar[r, " \beta_{ F_3 ( X ) }"]
        &
        G_2 ( F_3 ( X ) )
        \ar[r , " \delta_{F_2 ( X ) }"]
        &
        G_3 ( F_3 ( X ) ) 
    \end{tikzcd}
    \]
    Now the long diagonal of the diagram corresponds to $ ( \delta * \gamma ) \circ ( \beta * \alpha ) $ and the outer large square to $ ( \delta \circ \beta ) * ( \gamma \circ \alpha )$.
\end{proof}

\begin{defi}
    The Godement products bellow are called whiskerings
    \[
    \begin{tikzcd}[column sep = huge]
    	\mathcal{C}
    		\ar[r, " F "]
    	&
    	\mathcal{D}
    		\arrow[bend left=50]{r}[name=U',label=above:$G_1$]{}
    		\arrow[bend right=50]{r}[name=D',label=below:$G_2$]{}
    	&
    	\mathcal{E} 
    		\arrow[shorten <=10pt,shorten >=10pt,Rightarrow,to path={(U') -- node[label=right:$\beta$] {} (D')}]{} 
    \end{tikzcd}
	\mapsto
	\begin{tikzcd}[column sep = huge]
		\mathcal{ C }
			\arrow[bend left=50]{rr}[name=U',label=above:$G_1 \circ F$]{}
			\arrow[bend right=50]{rr}[name=D',label=below:$G_2 \circ F $]{}
		&&
		\mathcal{ E }
			\arrow[shorten <=10pt,shorten >=10pt,Rightarrow,to path={(U') -- node[label=right:$\beta*\id_F$] {} (D')}]{} 
	\end{tikzcd}
	\]
	\[
	\begin{tikzcd}[column sep = huge]
		\mathcal{C}
		\arrow[bend left=50]{r}[name=U',label=above:$G_1$]{}
		\arrow[bend right=50]{r}[name=D',label=below:$G_2$]{}
		&
		\mathcal{D} 
		\arrow[shorten <=10pt,shorten >=10pt,Rightarrow,to path={(U') -- node[label=right:$\alpha$] {} (D')}]{} 
		\ar[r, " G"]
		&
		\mathcal{ E }
	\end{tikzcd}
	\mapsto
	\begin{tikzcd}[column sep = huge]
		\mathcal{ C }
		\arrow[bend left=50]{rr}[name=U',label=above:$G \circ F_1$]{}
		\arrow[bend right=50]{rr}[name=D',label=below:$G \circ F_2 $]{}
		&&
		\mathcal{ E }
		\arrow[shorten <=10pt,shorten >=10pt,Rightarrow,to path={(U') -- node[label=right:$\id_G*\alpha$] {} (D')}]{} 
	\end{tikzcd}
	\]
	
\end{defi}

\begin{construction}
	\label{2-pullback_groupoids}
    Given a cospan of groupoids 
    \[
    \begin{tikzcd}
        &
        \mathcal{B}
        \ar[d, " G "]
        \\
        \mathcal{ A }
        \ar[r, " F "]
        &
        \mathcal{ C }
    \end{tikzcd}
    \]
    its 2-pullback is the diagonal of groupoids along on $ \mathcal{ C } $ inside the product.
    \[
    \begin{tikzcd}
        \mathcal{ A } \times_{ \mathcal{ C } } \mathcal{ B } 
        \ar[r, " \pi_{ \mathcal{ B }} "]
        \ar[d, " \pi_{ \mathcal{ A }} "]
        &
        \mathcal{ B }
        \ar[ d , " G " ]
        \\
        \mathcal{ A }
        \ar[r, " F " ]
        &
        \mathcal{ C }
    \end{tikzcd}
    \]
    The objects are given as $ \Ob ( \mathcal{ A } \times_\mathcal{ C } \mathcal{ B } ) = ( a \in \mathcal{ A } , b \in \mathcal{ B }, \varphi \colon F ( a ) \isomorphism G ( b ) $ in $ \mathcal{ C } )$ and morphisms are given by tuples of morphisms $ ( u , v ) \colon ( a , b, \varphi ) \to ( a' , b' , \varphi' ) $, where $ u \colon a \to a' $ and $ v \colon b \to b '$ are morphisms in the respective groupoids, such that the following square commutes:
    \[
    \begin{tikzcd}
        F ( a ) 
        \ar[r, " \varphi " , " \sim "']
        \ar[d, " F ( a ) "']
        &
        G ( b )
        \ar[d, " G ( v ) "]
        \\
        F ( a' )
        \ar[r, " \varphi' ", " \sim "']
        &
        G ( b' )
    \end{tikzcd}
    \]
\end{construction}

Lecture 15.04

Let $ X , Y , Z \in \Set $ and consider a pullback diagram:
\[
\begin{tikzcd}
	X \times_Z Y 
	\ar[r, " \pi_Y " ]
	\ar[d, " \pi_X"]
	&
	Y
	\ar[d, " g "]
	\\
	X
	\ar[r, " f "]
	&
	Z
\end{tikzcd}
\] 
Where the fiber product is given by $ X \times_Z Y \coloneqq \{ ( x , y ) \in  X \times Y , f ( x ) = g ( x ) \} $ such that the following isomorphism holds for all $ W $.

\begin{align*}
	\Hom_{ \Set } ( \prescript{\forall}{}{W} , X \times_Z Y ) 
	&\isomorphism 
	\Hom_{ \Set } ( W , X ) \times_{ \Hom_{ \Set } ( W , Z ) } \Hom_{ \Set } ( W , Y )
	\\
	( \varphi \colon X \times_Z  Y )
	&\mapsto
	\begin{tikzcd}
		[ampersand replacement = \&]
		W 
		\ar[r, " \pi_Y \circ \varphi"]
		\ar[d, " \pi_X \circ \varphi"]
		\&
		Y
		\ar[d, "g" ]
		\\
		X
		\ar[r, " f "' ]
		\&
		Z
	\end{tikzcd}
\end{align*}

Thus the case of a pullback of objects is clear, but what does the pullback of morphism-sets look like?

\begin{construction}
\label{2-pullback_functor_categories}
	Let $ \mathcal{ A } , \mathcal{ B } , \mathcal{ C } $ be groupoids
	and 
	\[
	\begin{tikzcd}
		\mathcal{ A } \times_{ \mathcal{ C } }^{ ( 2 ) } \mathcal{ B }
		\ar[r, " { \pi_{ \mathcal{ A } } } " ]
		\ar[d, " { \pi_{ \mathcal{ B } } } "' ]
		\ar[r, Rightarrow, shift right=7, " \sim "', " \phi " ]
		&
		\mathcal{ B }
		\ar[d ," G " ]
		\\
		\mathcal{ A }
		\ar[r , " F "' ]
		&
		\mathcal{ C }
	\end{tikzcd}
	\] 
	be the 2-pullback of $ \mathcal{ A } \xrightarrow{ F } \mathcal{ C } $.
	Its objects are triples $ X = ( a \in \mathcal{ A } , b \in \mathcal{ B } , \varphi_X \colon F ( a ) \isomorphism G ( b ) ) $ and for another triple $ X' = ( a' \in \mathcal{ A } , b' \in \mathcal{ B } , \varphi_{ X' } \colon F ( a' ) \isomorphism G ( b' ) ) $ the morphisms are given by tuples $  ( \mathcal{ A } \ni u \colon a \to a' , \mathcal{ B } \ni v \colon b \to b' ) $ such that 
	\[
	\begin{tikzcd}
		F ( a )
		\ar[r, " \sim "]
		\ar[d, " F ( u )"]
		&
		G ( b ) 
		\ar[ d , " G ( v ) "]
		\\
		F ( a ' )
		\ar[ r, " \sim "]
		&
		G ( b ' ) 
	\end{tikzcd}
	\] 
	commutes, that is $ \varphi_{X'} \circ F ( u ) = G ( v ) \circ \varphi_X.$
	For a groupoid $ \mathcal{ D } $ we may consider the induced cospan of groupoids:
	\[
		\begin{tikzcd}
			\Fun ( \mathcal{ D } , \mathcal{ A } ) \times_{ \Fun ( \mathcal{ D } , \mathcal{ C } )  } \Fun ( \mathcal{ D } , \mathcal{B } )
			\ar[d]
			\ar[r]
			\ar[r, Rightarrow, shift right=7, "\sim", "2-PB"']
			&
			\Fun( \mathcal{ D } , \mathcal{ B } )
			\ar[d, " G \circ ? "]
			\\
			\Fun ( \mathcal{ D } , \mathcal{ A } )
			\ar[r, " F  \circ ? "']
			&
			\Fun( \mathcal{ D } , \mathcal{ C }) 
		\end{tikzcd}
	\]
	Since functors into a groupoid are again a groupoid we can apply the construction above, i.e. the 2-pullback of groupoids.
	
	\begin{Interlude}
		Fix a groupoid $ G $.  
		Then, the construction $ \mathcal{ D } \in \Gpd \mapsto \Fun ( \mathcal{ D } , \mathcal{ G } )$ is suitably functorial, which means 
		\begin{itemize}
			\item 
			For all $ D \in \Gpd $ it holds that $ \Fun ( \mathcal{ D } , \mathcal{ G } ) $ is a groupoid.
			
			\item 
			For all $  F \colon \mathcal{ D }_1 \to \mathcal{ D }_2 $ it holds that $ ? \circ F \colon \Fun ( \mathcal{ D }_2 , \mathcal{ G } ) \to \Fun ( \mathcal{ D }_1 , \mathcal{ G } ) $ is a functor, given on morphisms as: 
			\[
			\begin{tikzcd}
				\mathcal{ D }_2
				\arrow[bend left=50]{rr}[name=U',label=above:$ G_1 $]{}
				\arrow[bend right=50]{rr}[name=D',label=below:$ G_2 $]{}
				&&
				\mathcal{ G }
				\arrow[shorten <=10pt,shorten >=10pt,Rightarrow,to path={(U') -- node[label=right:$ \beta $] {} (D')}]{} 
			\end{tikzcd}
		\mapsto
			\begin{tikzcd}[column sep=1.4cm]
				\mathcal{ D }_1
				\arrow[bend left=50]{rr}[name=U',label=above:$G_1 \circ F $]{}
				\arrow[bend right=50]{rr}[name=D',label=below:$G_2 \circ F $]{}
				&&
				\mathcal{ G }
				\arrow[shorten <=10pt,shorten >=10pt,Rightarrow,to path={(U') -- node[label=right:$ \beta * \id_F $] {} (D')}]{} 
			\end{tikzcd}
			\] 
			
			\item 
			For a natural transformation $ \alpha $ of functors between groupoids,
			\[
			\begin{tikzcd}
				\mathcal{ D }_1
				\arrow[bend left=50]{rr}[name=U',label=above:$F_1$]{}
				\arrow[bend right=50]{rr}[name=D',label=below:$F_2$]{}
				&&
				\mathcal{ D }_2
				\arrow[shorten <=10pt,shorten >=10pt,Rightarrow,to path={(U') -- node[label=right:$\alpha$] {} (D')}]{} 
			\end{tikzcd}
			\]
			there is a natural transformation:
			\[
			\begin{tikzcd}[column sep=1.5cm]
				\Fun( \mathcal{ D }_2 , \mathcal{ G } )
				\arrow[bend left=50]{rr}[name=U',label=above:$? \circ F_1$]{}
				\arrow[bend right=50]{rr}[name=D',label=below:$? \circ F_2$]{}
				&&
				\Fun( \mathcal{ D }_1 , \mathcal{ G } ).
				\arrow[shorten <=10pt,shorten >=10pt,Rightarrow,to path={(U') -- node[label=right:$? * \alpha$] {} (D')}]{} 
			\end{tikzcd}
			\]
		\end{itemize} 
	\end{Interlude}
\end{construction}

Let us take the 2-pullback $ \mathbb{ F } \mathcal{D} \coloneqq \Fun ( \mathcal{ D } , \mathcal{ A } ) \times_{ \Fun ( \mathcal{ D } , \mathcal{ C } ) } \Fun ( \mathcal{ D } , \mathcal{ B } ) $, see \ref{2-pullback_functor_categories} and analyze the map $ \mathcal{ D } \to \mathbb{ F } \mathcal{ D } $. 

\begin{itemize}
	\item 
	For all groupoids $ \mathcal{D} $ the category $ \mathbb{F} \mathcal{D} $ is a groupoid.
	
	\item 
	For all morphisms of groupoids $ F \colon \mathcal{D}_1 \to \mathcal{D}_2 $ the attribution $ \mathbb{F} \mathcal{D}_2 \to \mathbb{ F } \mathcal{D}_1 $ is a functor.
	
	\item 
	The objects of $ \mathbb{ F } \mathcal{D}_1 $ are given as $  ( p_{ \mathcal{ A } } \colon \mathcal{ D }_1 \to \mathcal{ A } , p_{ \mathcal{ B } } \colon \mathcal{ D }_1 \to \mathcal{ B } , \phi \colon F \circ p_{ \mathcal{ A } } \isomorphism  G \circ p_{ \mathcal{ B } } ) $,
	that is the 2-pullback, to be more specific they are given by the datum of a pullback diagram:
	\[
	\begin{tikzcd}	
		\mathcal{ D }_1 = \mathcal{ A } \times_{ \mathcal{ C } } \mathcal{ B }
		\ar[r, " \pi_{ \mathcal{ B } } "]
		\ar[r , shift right=4ex, shorten <=3pt, Rightarrow, shorten >=3pt, " \phi " ]
		\ar[d, " \pi_{ \mathcal{ A } }"']
		&
		\mathcal{ B }
		\ar[d, " G "]
		\\ 
		\mathcal{ A }
		\ar[r, " F "' ]
		&
		\mathcal{ C }
	\end{tikzcd}
	\]
	
	\item 
	For all functors $ H \colon \mathcal{ D }_1 \to \mathcal{ D }_1$ we get $ \mathbb{ F } \mathcal{ D }_2 \to \mathbb{ F } \mathcal{ D }_2$, that is for a second pullback square 
	\[
	\begin{tikzcd}	
		\mathcal{D}_2
		\ar[r, " q_{\mathcal{ B } } "]
		\ar[d, " q_{ \mathcal{ A } } "']
		\ar[r , shift right=4ex, shorten <=3pt, Rightarrow, shorten >=3pt, " \psi " ]
		&
		\mathcal{ B }
		\ar[d, " G "]
		\\
		\mathcal{ A } 
		\ar[r, " F "]
		&
		\mathcal{ C }
	\end{tikzcd}
	\]
	we obtain a commutative diagram as follows:
	\[
	\begin{tikzcd}
		\mathcal{ D }_1
		\ar[rrd, bend left, bend left, " q_{ \mathcal{ B } } \circ H "]
		\ar[rd, " H "]
		\ar[rdd, bend right," q_{ \mathcal{ A } } \circ H "']
		\\
		&
		\mathcal{ D }_2 
		\ar[r, " q_{ \mathcal{ B } }"]
		\ar[d, " q_{ \mathcal{ A } }"']
		\ar[r , shift right=4ex, shorten <=3pt, Rightarrow, shorten >=3pt, " \psi " ]
		&
		\mathcal{ B }
		\ar[d, " G "]
		\\
		&
		\mathcal{ A }
		\ar[r, " F "]
		&
		\mathcal{ C }
	\end{tikzcd}
	\]
	The associated natural transformation is given by 
	$\psi_H \colon F \circ q_{ \mathcal{A} } \circ H \implies G \circ q_{ \mathcal{ B } } \circ H.$
\end{itemize}

The next question we can naturally ask is, what do morphisms in $ \mathbb{ F } \mathcal{ D } $ look like?
They are given by quadruples natural transformations $ ( \alpha , \beta , F_{ \alpha } , G_{ \beta } ) $, such that:
\[
\begin{tikzcd}
	( p_{ \mathcal{ A } }\colon \mathcal{ D }_2 
	\ar[r]
	\ar[d, Rightarrow, shift left = 2ex, " \alpha"]
	&
	\mathcal{ A } , p_{ \mathcal{ B } } \colon \mathcal{ D }_2
	\ar[r]
	\ar[d, Rightarrow, shift left = 2ex, " \beta"]
	&
	\mathcal{ B } , F \circ p_{ \mathcal{ A } }
	\ar[r , Rightarrow, " \phi" , " \sim"']
	\ar[d, Rightarrow, " F_{ \alpha }"]
	&
	G \circ p_{ \mathcal{ B } } )
	\ar[d, Rightarrow,  " G_\beta"]
	\\
	( q_{ \mathcal{A } }\colon \mathcal{D}_2 
	\ar[r]
	&
	\mathcal{A}, q_{ \mathcal{B} }: \mathcal{D}_2
	\ar[r]
	&
	\mathcal{B} , F \circ q_{ \mathcal{A }}
	\ar[r, Rightarrow, "\psi"' , "\sim"]
	&
	G \circ q_{ \mathcal{ B }})	
\end{tikzcd}
\]

For every 
$
\begin{tikzcd}
	\mathcal{ D }_1
	\arrow[bend left=50]{rr}[name=U',label=above:$H_1$]{}
	\arrow[bend right=50]{rr}[name=D',label=below:$H_2$]{}
	&&
	\mathcal{ D }_2
	\arrow[shorten <=10pt,shorten >=10pt,Rightarrow,to path={(U')-- node[label=right:$\gamma$] {} (D')}]{} 
\end{tikzcd}
$
there is a diagram 
$
\begin{tikzcd}
	\mathbb{F} \mathcal{ D }_2
	\arrow[bend left=50]{rr}[name=U',label=above:$\mathbb{F}H_1$]{}
	\arrow[bend right=50]{rr}[name=D',label=below:$\mathbb{F}H_2$]{}
	&&
	\mathbb{F}\mathcal{ D }_1
	\arrow[shorten <=10pt,shorten >=10pt,Rightarrow,to path={(U')-- node[label=right:$\mathbb{F}\gamma$] {} (D')}]{} 
\end{tikzcd}.
$




\begin{prop}
	Let $ \mathcal{ A } \xrightarrow{ F } \mathcal{ C } \xleftarrow{ G } \mathcal{ B } $ be a cospan of groupoids.
	Then for all groupoids $ \mathcal{ D } $, it holds that 
	\begin{align*}
		\mathbb{ X } \colon \mathbb{ F } ( \mathcal{ A } \times^{ ( 2 ) }_{ \mathcal{ C } }\mathcal {B })
		&\to
		\mathbb{ F } ( \mathcal{ D } \xleftarrow{ \mathbb{ F } H } \mathbb{ F } ( \mathcal{ A } \times_{ \mathcal{ C } }^{ ( 2 ) }  \mathcal{ B } ) )		
		\\
		( \mathcal{ D } \xrightarrow{ H } \mathcal{ A } \times_{ \mathcal{ C } }^{ ( 2 ) } \mathcal{ B } ) 
		&\mapsto
		\begin{tikzcd}
			[ampersand replacement=\&]
			\mathcal{ D }
			\ar[r]
			\ar[rr, dashed, bend left]
			\ar[rd, dashed , bend right]
			\&
			\mathcal{ A } \times_{ \mathcal{ C } } \mathcal{ B } 
			\ar[r, " \pi_{ \mathcal{ B } } "]
			\ar[d, " \pi_{ \mathcal{ A } } "]
			\ar[ r , Rightarrow, shift right=7, " \phi"]
			\&
			\mathcal{ B } 
			\ar[d, " G "]
			\\
			\&
			\mathcal{ A } 
			\ar[r, " F "]
			\&
			\mathcal{ C }
		\end{tikzcd}
		=
		H^*( \can )
	\end{align*}
	is an isomorphism. 
\end{prop}

\begin{exmp}
	Let $ A , B , C $ be groups and $ \mathbb{B} A , \mathbb{B} B , \mathbb{B} C $ their associated groupoids, then for group homomorphisms $ A \xrightarrow { f } C  \xleftarrow { g } B $,
	we get that the objects of $ \mathbb{ B } A \times^{ ( 2 ) }_{ \mathbb{ B } C }  \mathbb{ B } B $ correspond to triples $ c_1 = ( *_A , *_B , *_C \xrightarrow{ c \in C } *_C ) $ and a morphism from $ c_1 $ to $ c_2 = ( *_A , *_B , *_C \xrightarrow{ c' \in C } *_C ) $ from correspond to choices $ a \in A , b \in B $ such that $ c' a = b c $.
\end{exmp}

\subsection{Exercises}

\begin{Exercise}
	Let $ \mathcal{ C } $ be a small category and denote by $ \widehat{ \mathcal{ C } } \coloneqq \Fun ( \mathcal{ C } , \Set ) $ its category of presheaves.
	\begin{enumerate}[label=(\alph*)]
		\item 
		Show that for any object $ c \in \mathcal{ C } $ there is a functor $ \widehat{ c } \coloneqq \Hom_{ \mathcal{ C } } ( -, c ) \colon \mathcal{ C }^{\op} \to \Set $.
		
		\item 
		Show that for any morphism $ f \colon c \to d $ in $ \mathcal{ C } $ there is a natural transformation $ f_* \colon \widehat{ c } \implies \widehat{ d } $ defined by postcomposition.
		
		\item 
		Conclude that there is a functor $ \mathcal{ Y } \colon \mathcal{ C } \to \widehat{\mathcal{ C }}$.
	\end{enumerate}
\end{Exercise}

\begin{Exercise}
	Observe that we can use the Yoneda functor to construct a functor $ ( \mathcal{ Y }_{ \mathcal{ C } } )^* \circ \mathcal{ Y }_{ \widehat{ \mathcal{ C }}} : \widehat{ \mathcal{ C }} \to \widehat{ \widehat { \mathcal{C }}} \to \widehat{ \mathcal{ C } }$ 
	which associates to a presheaf $ X \in \widehat{ \mathcal{ C } } $ the presheaf $ ( c \mapsto \Nat ( \mathcal{ Y }_{ \mathcal{ C } } (c) , X ) ) $.
	
	\begin{enumerate}[label=(\alph*)]
		\item 
		Show that there is a natural transformation $ \chi^X \colon ( \mathcal{ Y }_{ \mathcal{ C } } )^* \circ \mathcal{Y}_{\widehat{ \mathcal{ C } } } ( X ) \implies X $ defined by 
		\begin{align*}
			\chi^X_c : ( \mathcal{ Y _{ \mathcal{ C }}})^* \circ \mathcal{ Y }_{ \widehat { \mathcal{ C }}}( X ) ( c ) 
			&=
			\Nat ( \widehat{ c } , X ) \to X ( c ) 
			\\
			\eta 
			&\mapsto
			\eta_c ( \id_c )
		\end{align*}
		for each $ c \in \mathcal{ C } $.
		
		\item 
		Show that $ \{ \chi^X \}_{ X \in \widehat{ \mathcal{ C } } }$ assemble into a natural transformation $ \chi \colon ( \mathcal{ Y }_{ \mathcal{ C } } )^* \circ  \mathcal{ Y }_{\widehat{ \mathcal{ C }}} \Rightarrow \id_{ \widehat { \mathcal{ C  } }}$.
		
		\item 
		Show that for a presheaf $ X \in \widehat{ \mathcal{ C } } $ and $ c \in \mathcal{ C } $, any element $ x \in X ( c ) $ defines a natural transformation $ \eta^x \colon \mathcal{ Y } ( c )  \Rightarrow X $ defined by  
		\begin{align*}
			\eta_d^x \colon \widehat{ c } ( d) = \Hom_{ \mathcal{ C } } ( d , c ) 
			&\to 
			X ( d ) 
			\\
			f
			&\mapsto
			X ( f ) ( x ) 
		\end{align*}
		for every $ d \in \mathcal{ C } $.
		
		\item 
		Deduce that the natural transformation $ \chi^X $ is a natural isomorphism for every presheaf $ X $.
		Moreover, conclude that $ \chi $ is a natural isomorphism itself.
	\end{enumerate}
\end{Exercise}

\begin{Exercise}
	Fix a small category $ \mathcal{ C } $. 
	\begin{enumerate}[label=(\alph*)]
		\item 
		Show that the category of small categories admits products.
		
		\item 
		Deduce that the functor $ \Fun ( \mathcal{ C } , - ) \colon \Cat \to \Cat $ which associates to a small category $ \mathcal{ D } $ the category of functors $ \mathcal{ C } \to \mathcal{ D } $ admits $ - \times \mathcal{ C } \colon \Cat \to \Cat $ as a left adjoint.
		
		\item 
		Show that this adjunction upgrades to an isomorphism of categories 
		\[
		\Phi \colon \Fun ( \mathcal{ C } , \Fun ( \mathcal{ D } , \mathcal{ E } ) ) \isomorphism 
		\Fun ( \mathcal{ C } \times \mathcal{ D } , \mathcal{ E } )
		\]
		in the category of large categories.
	\end{enumerate}
\end{Exercise}

\begin{Exercise}
	Fix a small category $ \mathcal{ C } $
	\begin{enumerate}[label=(\alph*)]
		\item  
		Deduce that $ \phi (( \mathcal{ Y }_{ \mathcal{ C } } )^* \circ \mathcal{ Y }_{ \widehat{ \mathcal{ C } } } )$ is isomorphic to the evaluation functor in $ \Fun ( \widehat{ \mathcal{ C } } \times \mathcal{ C } , \Set $).
		
		\item 
		Deduce that $ \Nat ( \mathcal{ Y } ( c ) , X ) \cong X ( c ) $ naturally in both $ X $ and $ c $.
		
		\item 
		Conclude that $ \mathcal{ Y } \colon \mathcal{ C } \to \widehat{\mathcal{ C } }  $ is fully faithful.
	\end{enumerate}
\end{Exercise}

\begin{Exercise}
	Consider two small categories $ A $ and $ B $ and a functor $ F \colon B  \to \Fun ( A , \mathcal{ C } )$. Assume further that $  \lim_B ( \ev_a \circ F ) $ exists in $ \mathcal{ C } $ for every $ a \in A$.
	\begin{enumerate}[label=(\alph*)]
		\item 
		Show that a cone $ C $ of $ F $ is a limit cone if and only if for every $ a \in A $ the evaluation $ C ( a ) $ is a limit cone of $ \ev_a \circ F $.
		
		\item 
		Show that $ \Fun ( A , \mathcal{ C } )^{ \op } \cong \Fun ( A^{\op}, \mathcal{ C }^{\op} ) $ and give the dual statement of (a).
		
		\item 
		Deduce that for any small category $ A $ the category of presheaves $ \widehat{ A } $ is cocomplete.
	\end{enumerate}  
	Let us note that the existence of $ \lim_B ( \ev_a \circ F ) $ in (a) is a necessary condition as monomorphisms in functor categories are not necessarily pointwise monomorphisms.
\end{Exercise}

\begin{Exercise}
	We have seen that a category $ A $ fully faithfully embeds into its presheaf category $ \widehat{ A }$ via the Yoneda embedding.
	Conversely, we will now show that any presheaf comes with a diagram in $ \mathcal{ Y } ( A ) $ whose colimit is $ X $ itself.
	
	\begin{enumerate}[label=(\alph*)]
		\item 
		Show that for a presheaf $ X \in \widehat{ A }$ there is an associate category $ \int^A X $ with objects $ ( a , x ) $ where $ a \in A $ and $ x \in X ( a ) $ and morphisms  $ f \colon ( a , x ) \to ( b ,y ) $ given by morphisms $ f \colon a \to b $ in $ A $ such that $ X ( f ) ( y ) = x $.
	\end{enumerate}
	
	The category $ \int^A X $ is called the category of elements of $ X $.
	
	\begin{enumerate}[label=(\alph*),resume]
		\item 
		Show that the forgetful functor together with the Yoneda embedding
		\begin{align*}
			\mathcal{ Y } \circ \pi_X \colon \int^A X &\xrightarrow{ \pi_X} A \xrightarrow{ \mathcal{ Y }} \widehat{ A }
			\\
			(a,x) &\mapsto a \mapsto \widehat{a}
		\end{align*}
		admits $ X $ as its colimit.
		
		\item 
		Show that a morphism $ f \colon X \to Y$ in $ \widehat{ A } $ induces a functor $ \int^A f \colon \int^A X \to \int^A Y $, upgrading the assignment to a functor $ \int^A \colon \widehat{ A } \to \Cat$.
	\end{enumerate}
\end{Exercise}

\begin{Exercise}
	Let $ u \colon A \to \mathcal{ C } $ be a functor between small categories. By precomposing we obtain a functor $ u^* \colon \widehat{ \mathcal{ C } } \to \widehat{ A } $ and precomposing this with the Yoneda embedding we obtain a functor $ \Tilde{u}^* \coloneqq u^* \circ \mathcal{ Y } \colon \mathcal{ C } \to \widehat{ \mathcal{ C } } \to \widehat{ A } $.
	Assuming that $ \mathcal{ C } $ is cocomplete, we aim to show $ \Tilde{u}^* $ admits a left adjoint $ u_! \colon \widehat{ A } \to \mathcal{ C } $.
	\begin{enumerate}[label=(\alph*)]
		\item 
		Show that if $ u_! $ exists, then it preserves colimits.
		
		\item 
		Show that if $ F \colon \widehat{ A } \to \mathcal{ C } $ preserves colimits, then $ F \dashv ( F \circ \mathcal{ Y } )^*$.
	\end{enumerate}
	
	Hence, it is sufficient to show that there exists a colimit preserving functor $ u_! \coloneqq U \colon \widehat{ A } \to \mathcal{ C } $ such that $ U \circ \mathcal{ C } $ and $ u $ are isomorphic in $ \Fun ( A , \mathcal{ C } )$.
	
	\begin{enumerate}[resume, label=(\alph*)]
		\item 
		Show that the assignment
		\[
		U ( X ) \coloneqq \colim u \bigg( \int^A X \bigg) \coloneqq \colim_{ \int^A X } u \circ \pi_X
		\]
		assembles into a functor where a morphism $ f \colon X \to Y $ is send to the morphism induced by the diagram $ u ( \int^A f ) $ with the notation from Exercise 1.2.
		
		\item 
		Argue that $ U $ is a colimit preserving by showing that $ \int^A \colim_{ i \in I } X_i $ is a colimit for $ \int^A X_i $ in $ \Cat $.
		
		\item 
		Conclude by showing that $ U \circ \mathcal{ Y } \cong u $ in $ \Fun ( A , \mathcal{ C } )$.
	\end{enumerate}
\end{Exercise} 

\begin{Exercise}
	Let $ u \colon A \to B $ be a functor between small categories.
	Let $ u^* \colon \widehat{ B } \to \widehat{ A } $ denote the functor obtained by precomposition with $ u $. 
	\begin{enumerate}[label=(\alph*)]
		\item 
		Deduce from Exercise 1.3 that a functor $ F \colon \widehat{ B } \to \mathcal{ C } $ admits a right adjoint if $ \mathcal{ C } $ is a cocomplete category.
		
		\item 
		Show that $ u^* $ preserves colimits.
		
		\item 
		Conclude that there exists a right adjoint $ u^* \dashv u_* $. Give an explicit description of $ u_* $.
	\end{enumerate}
\end{Exercise}

\begin{Exercise}
	Recall that for a presheaf $ X \in \widehat{ \mathcal{ C } } $ and $ c \in \mathcal{ C } $ and element $ u \in X_c \coloneqq X ( c ) $ is called universal if the natural transformation $ \eta^u \colon \widehat{ c } \to X $ from Exercise 0.2 is an isomorphism.
	\begin{enumerate}[label=(\alph*)]
		\item 
		Show that $ u \in X_c $ is a universal element if and only if $ ( c , u ) $ is a final element if $ \int^A X $, i.e. any other object $ ( d , v ) $ admits a unique morphism $ f \colon ( d , v ) \to  ( c , u ) $.
		
		\item 
		Deduce that a presheaf is representable, i.e. isomorphic to $ \widehat{ d } $ for some $ d \in \mathcal{ C } $ if and only if $ \int^A X $ has a final element.
		
		\item 
		Show that for any isomorphism $ f \colon d \isomorphism c $ in $ \mathcal{ C },   X ( f ) $ induces a bijection between the universal elements in $ X_c $ and $ X_d $.
		\[
		f^* \coloneqq X ( f ) \colon \{ u \in X_c \text{ universal} \}
		\isomorphism
		\{ v \in X_d \text{ universal} \}
		\]
	\end{enumerate}
\end{Exercise}

\begin{Exercise}
	Let $ D \colon I \to \mathcal{ C } $ be a functor between small cetegories and consider $ \Tilde{ D } \coloneqq \mathcal{ Y } \circ D \colon I \to \mathcal{ C } \to \widehat{ \mathcal{ C } } $.
	Recall that a cone of $ D $ is an object $ a \in \mathcal{ C } $ togehter with a morphism $ ( a_i \colon a \to D ( a ) )_{ i \in A } $ such that for each $ f \colon i \to j $ in $ I $ we have that $ a_j = D ( f ) \circ a_i.$ Furthermore, the cones form a category with morphisms $ g \colon ( a , ( a_i )_{ i \in I } ) \to ( b , ( b_i )_{ i \in I } ) $ by $ g \colon a \to b $ with $ a_i = b_i \circ g $ for all $ i \in I $.
	\begin{enumerate}
		\item 
		Show that the category of cones of $ D $ in $ \mathcal{ C } $ is isomorphic to the category $ \int^{ \mathcal{ C } } \lim \Tilde{ D } $ which exists by the completeness of $ \widehat{ \mathcal{ C }}$.
		
		\item 
		Deduce that $ D $ admits a limit if and only if $ \lim \Tilde{ D } $ admits a universal element if and only if $ \lim \Tilde{ D} $ is representable.
		
		\item 
		Conclude that the Yoneda embedding  preserves limits.
		
		\item 
		Conclude that any isomorphism $ f \colon d \isomorphism c $ in $ \mathcal{ C } $ induces an isomorphism
		\[
			f^* \colon \{ u \in \lim_{ i \in I } \Hom ( c , D ( i ) ) \text{ universal}\}
			\isomorphism 
			\{ v \in \lim_{ i \in I } \Hom ( d , D ( i ) ) \text{ universal}\}
		\]
		of universal elements.
	\end{enumerate} 
\end{Exercise}
